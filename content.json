{"posts":[{"title":"Springç®€ä»‹&amp;IOCç®€ä»‹","text":"å­¦ä¹ è§†é¢‘ğŸ¥ï¼šhttps://www.bilibili.com/video/BV1Vf4y127N5 ä¸€ã€Springç®€ä»‹ğŸ’¬æ¦‚è¿°ï¼šSpring æ˜¯è½»é‡çº§çš„å¼€æºçš„JavaEEæ¡†æ¶ï¼ŒIOCå’ŒAOPæ˜¯Spring çš„ä¸¤ä¸ªæ ¸å¿ƒéƒ¨åˆ† è½»é‡çº§ï¼šSpring éœ€è¦é…ç½®çš„ä¾èµ–ï¼ˆjar åŒ…ï¼‰è¾ƒå°‘ï¼Œä¹Ÿä¸éœ€è¦é¢å¤–æ·»åŠ å…¶ä»–ä¾èµ–ï¼Œæ•´ä½“ä½“ç§¯ä¹Ÿè¾ƒå°ï¼Œå¯ä»¥ç‹¬ç«‹ä½¿ç”¨ ğŸ¯ç›®çš„ï¼šç®€åŒ–ä¼ä¸šåº”ç”¨å¼€å‘ ğŸ”‘ç‰¹ç‚¹ï¼š æ–¹ä¾¿è§£è€¦ï¼Œç®€åŒ–å¼€å‘ æ”¯æŒAOPç¼–ç¨‹ï¼ˆä¸ä¿®æ”¹æºç å°±èƒ½å®ç°åŠŸèƒ½æ‰©å±•ï¼‰ æ–¹ä¾¿ç¨‹åºæµ‹è¯•å’Œäº‹åŠ¡ç®¡ç†æ“ä½œ æ–¹ä¾¿ä¸å…¶ä»–æ¡†æ¶è¿›è¡Œæ•´åˆï¼Œå¦‚æ•´åˆ MyBatis ç®€åŒ– JavaAPI çš„ä½¿ç”¨ äºŒã€IOC2.1 ç®€ä»‹ğŸ’¬æ¦‚è¿°ï¼šInversion Of Control æ§åˆ¶åè½¬ï¼Œæ„æ€å°±æ˜¯å°†å¯¹è±¡çš„åˆ›å»ºæƒåè½¬ï¼ˆäº¤ç»™ï¼‰äº†Springï¼Œæˆ–è€…è¯´å¯¹è±¡åˆ›å»ºçš„æ§åˆ¶æƒä¸æ˜¯â€ä½¿ç”¨è€…â€ï¼Œè€Œæ˜¯â€æ¡†æ¶â€æˆ–è€…â€å®¹å™¨â€ ğŸ¯ä½œç”¨ä¸ç›®çš„ï¼š ç®€åŒ–æ“ä½œï¼šå°†å¯¹è±¡çš„åˆ›å»ºå’Œå¯¹è±¡ä¹‹é—´çš„è°ƒç”¨äº¤ç»™Springå¤„ç† é™ä½è€¦åˆåº¦ï¼šå¯¹è±¡ä¹‹é—´çš„è°ƒç”¨æ“ä½œé‡‡ç”¨å·¥å‚æ¨¡å¼é—´æ¥å®ç°ï¼Œä»è€Œé™ä½ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´è°ƒç”¨çš„è€¦åˆåº¦ 2.2 åº•å±‚åŸç†ğŸ”‘åº•å±‚å®ç°æŠ€æœ¯ï¼šxml è§£æã€å·¥å‚æ¨¡å¼ã€åå°„ ğŸ”‘IOC å®ç°è¿‡ç¨‹ï¼šIOCæ€æƒ³åŸºäºIOCå®¹å™¨å®Œæˆï¼ŒIOCå®¹å™¨åº•å±‚å°±æ˜¯å¯¹è±¡å·¥å‚ åˆ›å»ºå¯¹è±¡ï¼ˆä»¥xml é…ç½®ä¸ºä¾‹ï¼‰ï¼šåœ¨xml é…ç½®æ–‡ä»¶ä¸­é…ç½®å°†è¦åˆ›å»ºçš„å¯¹è±¡1&lt;bean id=&quot;uDao&quot; class=&quot;com.Key.dao.UserDao&quot;&gt;&lt;/bean&gt; åˆ›å»ºå·¥å‚ç±»ï¼šåœ¨å·¥å‚ç±»ä¸­è§£æxml æ–‡ä»¶å’Œé€šè¿‡åå°„åˆ›å»ºå¯¹è±¡1234567891011public class UserFactory { public static UserDao getUserDao() { // 1. è§£æxmlæ–‡ä»¶ï¼Œè·å–å¯¹åº”çš„classå±æ€§å€¼ï¼Œæ­¤å¤„ç®€ç•¥å…·ä½“ä»£ç ... String classValue = classå±æ€§å€¼...; // 2. é€šè¿‡åå°„åˆ›å»ºå¯¹è±¡ UserDao uDao = (UserDao)Class.forName(classValue).newInstance(); return uDao; }} ğŸ”‘IOC åº•å±‚ä¸­çš„å·¥å‚æ¨¡å¼ 2.3 è·å–å¯¹è±¡çš„APIğŸ”‘ æ¥å£ â‘  BeanFactory IOCå®¹å™¨çš„åŸºæœ¬å®ç°ï¼Œæ˜¯Springå†…éƒ¨ä½¿ç”¨çš„æ¥å£ï¼Œå¼€å‘äººå‘˜ä¸€èˆ¬ä¸ä½¿ç”¨ ç‰¹ç‚¹ï¼šåŠ è½½é…ç½®æ–‡ä»¶æ—¶ä¸ä¼šåˆ›å»ºå¯¹è±¡ï¼Œåœ¨è·å–å¯¹è±¡æ—¶æ‰åˆ›å»º â‘¡ ApplicationContextï¼ˆæ¨èï¼‰ BeanFactoryæ¥å£çš„å­æ¥å£ï¼Œæä¾›æ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Œä¸€èˆ¬ç”±å¼€å‘äººå‘˜ä½¿ç”¨ ç‰¹ç‚¹ï¼šåœ¨åŠ è½½é…ç½®æ–‡ä»¶çš„æ—¶å€™å°±å·²ç»åˆ›å»ºå¥½å¯¹è±¡ â“ä¸ºä»€ä¹ˆä½¿ç”¨ApplicationContextä¼šæ›´å¥½ï¼šé…ç½®æ–‡ä»¶ã€åˆ›å»ºå¯¹è±¡ç­‰æ“ä½œæ¯”è¾ƒè€—æ—¶è€—èµ„æºï¼Œæ‰€ä»¥ä¸€èˆ¬å°†è¿™äº›æ“ä½œæ”¾åœ¨é¡¹ç›®å¯åŠ¨ï¼ˆæœåŠ¡å™¨å¯åŠ¨ï¼‰å‰å®Œæˆï¼Œé¡¹ç›®å¯åŠ¨åå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œè€Œä¸æ˜¯ç­‰åˆ°è¦ä½¿ç”¨æ—¶æ‰æ¥åˆ›å»ºğŸ“šå¸¸è§å…«è‚¡æ–‡ï¼šBeanFactoryå’ŒApplicationContextçš„åŒºåˆ« ğŸ”‘å¯¹åº”å®ç°ç±» FileSystemXmlApplicationContextï¼šä¼ å…¥å‚æ•°ä¸ºæ–‡ä»¶çš„å…¨è·¯å¾„ï¼Œå³åœ¨ç£ç›˜ä¸­çš„ä½ç½® ClassPathXmlApplicationContextï¼šä¼ å…¥å‚æ•°ä¸ºæ–‡ä»¶åœ¨é¡¹ç›®ä¸­srcçš„ç±»è·¯å¾„ï¼Œå¦‚æœæ”¾åœ¨srcç›®å½•ä¸‹ï¼Œç›´æ¥å†™æ–‡ä»¶åå³å¯123456// åŠ è½½springé…ç½®æ–‡ä»¶ï¼ˆxmlï¼‰ï¼Œåˆ›å»ºå·¥å‚ç±»å¯¹è±¡// 1. æ–¹å¼ä¸€BeanFactory context01 = new ClassPathXmlApplicationContext(&quot;bean01.xml&quot;);// 2. æ–¹å¼äºŒApplicationContext context02 = new ClassPathXmlApllicationContext(&quot;bean01.xml&quot;); ğŸ”‘è·å–å¯¹è±¡ 123456/* æ ¹æ®åˆ›å»ºçš„å·¥å‚ç±»å¯¹è±¡contextï¼Œè·å–å¯¹åº”å¯¹è±¡ - ç¬¬ä¸€ä¸ªå‚æ•°ï¼šxmlæ–‡ä»¶ä¸­&lt;bean&gt;æ ‡ç­¾çš„idå±æ€§å€¼ - ç¬¬äºŒä¸ªå‚æ•°ï¼šéœ€è¦è·å–çš„å¯¹è±¡å¯¹åº”çš„Classå¯¹è±¡ï¼ˆå¦‚æœä¸å†™ï¼Œè¿”å›å¯¹è±¡ç±»å‹é»˜è®¤æ˜¯Objectï¼‰*/UserDao userDao = context.getBean(&quot;uDao&quot;, UserDao.class);","link":"/posts/20221206fe655437768f"},{"title":"Beanç®¡ç†-åŸºäºæ³¨è§£","text":"å­¦ä¹ è§†é¢‘ğŸ¥ï¼šhttps://www.bilibili.com/video/BV1Vf4y127N5 * å¼€å¯æ³¨è§£ â“ æ³¨è§£ï¼šä»£ç ç‰¹æ®Šæ ‡è®° æ ¼å¼ä¸ºï¼š@æ³¨è§£åç§°(å±æ€§å=å±æ€§å€¼,å±æ€§å={å±æ€§å€¼1,å±æ€§å€¼2})ã€‚å„ä¸ªå±æ€§ä¹‹é—´ç”¨,éš”å¼€ï¼ŒåŒä¸€ä¸ªå±æ€§çš„å¤šä¸ªå±æ€§å€¼ç”¨{}æ‹¬èµ·æ¥ï¼Œå¹¶ç”¨,éš”å¼€ ä½¿ç”¨æ–¹å¼ï¼šå¯ä»¥ä½œç”¨åœ¨ç±»ã€æ–¹æ³•ã€æˆå‘˜å˜é‡ä¸Š ä½œç”¨ï¼šç®€åŒ–xml é…ç½® ğŸ”‘å¯¼å…¥jar åŒ…ï¼šspring-aop-â€¦-RELEASE.jar ğŸ”‘å¼€å¯ç»„ä»¶æ‰«æï¼šæœ‰ä¸¤ç§æ–¹å¼ â‘  åœ¨xml æ–‡ä»¶ä¸­é…ç½® æŒ‡å®šåŒ…æ‰«æï¼šåœ¨xml æ–‡ä»¶ä¸­æ·»åŠ context åç§°ç©ºé—´ï¼Œç„¶åä½¿ç”¨&lt;context:component-scan&gt;æ ‡ç­¾ 1&lt;context:component-scan base-package=&quot;com.Key&quot;&gt;&lt;/context:component-scan&gt; â“ &lt;context:component-scan&gt;æ ‡ç­¾ä¸­çš„base-packageå±æ€§ï¼šéœ€è¦æ‰«æçš„åŒ…çš„å…¨è·¯å¾„ï¼Œæœ‰ä¸¤ç§å†™æ³•ã€‚å¦‚æœéœ€è¦æ‰«æçš„åŒ…åœ¨ä¸åŒåŒ…ä¸‹ï¼Œåˆ™å¯ä»¥æ·»åŠ å¤šä¸ªåŒ…çš„å…¨è·¯å¾„ï¼Œä¸åŒåŒ…é€šè¿‡,éš”å¼€ï¼›å¦‚æœéœ€è¦æ‰«æçš„åŒ…åœ¨åŒä¸€ä¸ªåŒ…ä¸‹ï¼Œåˆ™ç›´æ¥å†™éœ€è¦æ‰«æçš„åŒ…çš„ä¸Šä¸€å±‚åŒ…å³å¯ï¼ˆåŒ…ï¼‰ï¼Œå¦‚daoåŒ…å’ŒserviceåŒ…éƒ½åœ¨com.Keyä¸‹ï¼Œåˆ™ç›´æ¥å†™â€com.Keyâ€å³å¯ 1234&lt;!-- å†™æ³•1 --&gt;&lt;context:component-scan base-package=&quot;com.Key.dao,com.Key.service&quot;&gt;&lt;/context:component-scan&gt;&lt;!-- å†™æ³•2 --&gt; &lt;context:component-scan base-package=&quot;com.Key&quot;&gt;&lt;/context:component-scan&gt; æŒ‡å®šæ³¨è§£è¿›è¡Œæ‰«æ12345&lt;!-- è®¾ç½®åªæ‰«æå«æœ‰@Controlleræ³¨è§£ --&gt;&lt;context:component-scan base-package=&quot;com.Key&quot; use-default-filter=&quot;false&quot;&gt; &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;...Controller&quot;&gt;&lt;/context:include-filter&gt;&lt;/context:component-scan&gt; æ’é™¤æŸç§æ³¨è§£è¿›è¡Œæ‰«æ 12345&lt;!-- è®¾ç½®é™¤äº†@Controlleræ³¨è§£ä¸æ‰«æï¼Œå…¶ä»–æ³¨è§£éƒ½æ‰«æ --&gt;&lt;context:component-scan base-package=&quot;com.Key&quot;&gt; &lt;context:exclude-filter type=&quot;annotation&quot; expression=&quot;...Controller&quot;&gt;&lt;/context:exclude-filter&gt;&lt;/context:component-scan&gt; â“ å„ä¸ªæ ‡ç­¾åŠå…¶å±æ€§è¯´æ˜ use-default-filterså±æ€§ï¼šè¡¨ç¤ºæ˜¯å¦ä½¿ç”¨é»˜è®¤çš„filtersï¼ˆè¿‡æ»¤å™¨ï¼‰ã€‚é»˜è®¤å€¼ä¸ºâ€trueâ€ï¼Œè¡¨ç¤ºä½¿ç”¨é»˜è®¤è¿‡æ»¤å™¨ï¼Œåˆ™å¯¹äºæŒ‡å®šåŒ…ä¸­æ‰€æœ‰æ³¨è§£éƒ½è¿›è¡Œæ‰«æï¼›å¦‚æœå€¼ä¸ºâ€falseâ€ï¼Œè¡¨ç¤ºä¸ä½¿ç”¨é»˜è®¤è¿‡æ»¤å™¨ï¼Œåªæ‰«ææŒ‡å®šçš„æ³¨è§£ &lt;context:include-filter&gt;æ ‡ç­¾ï¼šè®¾ç½®åŒ…å«è¿‡æ»¤å™¨â€”â€”è®¾ç½®æŒ‡å®šæ³¨è§£ï¼ˆincludeï¼‰çš„è¿‡æ»¤å™¨ &lt;context:exclude-filter&gt;æ ‡ç­¾ï¼šè®¾ç½®éåŒ…å«è¿‡æ»¤å™¨â€”â€”è®¾ç½®æ’é™¤æŸä¸ªæ³¨è§£ï¼ˆexcludeï¼‰çš„è¿‡æ»¤å™¨ typeå±æ€§ï¼šå€¼ä¸ºâ€annotationâ€ï¼Œè¡¨ç¤ºæ‰«æçš„æ˜¯æ³¨è§£ expressionå±æ€§ï¼šæŒ‡å®šæ³¨è§£åçš„ä½ç½®ï¼Œå¦‚org.springframework.stereotype.Controller â‘¡ åˆ›å»ºé…ç½®ç±» ä½¿ç”¨ï¼šåˆ›å»ºä¸€ä¸ªç±»ï¼Œåœ¨ç±»çš„ä¸Šé¢æ·»åŠ @Configurationå’Œ@ComponentScanæ³¨è§£ï¼Œå¹¶åœ¨@ComponentScanæ³¨è§£ä¸­æ·»åŠ basePackageså±æ€§ï¼ˆå¯¹åº”xml é…ç½®ä¸­çš„base-packageå±æ€§ï¼‰ï¼Œå±æ€§å€¼çš„å†™æ³•ä¸base-packageå±æ€§ä¸€æ · ğŸ’¡ basePackageså±æ€§æ˜¯æ•°ç»„ï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªå±æ€§å€¼ï¼Œå¦‚æœåªæœ‰å•ä¸ªå±æ€§å€¼æ—¶å¯ä»¥ç›´æ¥å†™ä¸€ä¸ªå€¼ï¼Œä¹Ÿå¯ä»¥å°†å±æ€§å€¼å†™åœ¨{}ä¸­ 12345@Configuration@ComponentScan(basePackages = {&quot;com.Key&quot;})public class SpringConfig { // code...} ä½œç”¨ï¼šè„±ç¦»xmlæ–‡ä»¶é…ç½®ï¼Œå®ç°å®Œå…¨æ³¨è§£å¼€å‘ è·å–å·¥å‚å¯¹è±¡ï¼šå®ç°å®Œå…¨æ³¨è§£å¼€å‘è¯´æ˜ä¸èƒ½é€šè¿‡åŠ è½½xml é…ç½®æ–‡ä»¶è·å–å·¥å‚å¯¹è±¡ï¼Œè€Œæ˜¯éœ€è¦åŠ è½½é…ç½®ç±»çš„å­—èŠ‚ç æ–‡ä»¶ï¼ˆ.classï¼‰æ¥è·å– 12345// 1. é€šè¿‡åŠ è½½xml é…ç½®æ–‡ä»¶è·å–å·¥å‚å¯¹è±¡ApplicationContext context01 = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);// 2. é€šè¿‡åŠ è½½é…ç½®ç±»(SpringConfig)å­—èŠ‚ç æ–‡ä»¶è·å–å·¥å‚å¯¹è±¡ApplicationContext context02 = new AnnotationConfigApplicationContext(SpringConfig.class); * åˆ›å»ºå¯¹è±¡ğŸ”‘4ä¸ªæ³¨è§£ï¼šåˆ›å»ºå¯¹è±¡æœ‰4ç§æ–¹å¼ï¼Œ4ç§æ³¨è§£æ–¹å¼éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯ç”¨äºæ ‡è¯†é¡¹ç›®å¼€å‘ä¸­ä¸åŒå±‚çš„ç±» @Componentï¼šé€‚ç”¨äºæ™®é€šç»„ä»¶å’Œæ™®é€šç±» @Serviceï¼šé€‚ç”¨äºä¸šåŠ¡é€»è¾‘å±‚ï¼ˆServiceå±‚ï¼‰ @Controllerï¼šé€‚ç”¨äºWebå±‚ã€æ§åˆ¶å™¨ï¼ˆControllerå±‚ï¼‰ @Repositoryï¼šé€‚ç”¨äºæŒä¹…å±‚ï¼ˆDaoå±‚ï¼‰ ğŸ”‘ç»™å¯¹è±¡æ·»åŠ å”¯ä¸€æ ‡è¯†ï¼šåŸºäºä»¥ä¸Šæ³¨è§£ï¼Œæ·»åŠ valueå±æ€§ï¼ˆä¸æ˜¯idï¼‰ valueå±æ€§å¯¹åº”xml é…ç½®ä¸­&lt;bean&gt;æ ‡ç­¾çš„idå±æ€§ å¯ä»¥çœç•¥valueå±æ€§ï¼Œé»˜è®¤å€¼ä¸ºç¬¬ä¸€ä¸ªå­—æ¯å°å†™çš„ç±»å123456@Service(value = &quot;userService&quot;)public class UserService { public void add() { System.out.println(&quot;åŸºäºæ³¨è§£æ–¹å¼åˆ›å»ºå¯¹è±¡...&quot;); }} * æ³¨å…¥å±æ€§ ğŸ’¡ ä½¿ç”¨æ³¨è§£æ–¹å¼æ³¨å…¥å±æ€§æ—¶ï¼Œå†…éƒ¨å·²ç»å°è£…å¥½set æ–¹æ³•ï¼Œä¸éœ€è¦åœ¨ç±»ä¸­æ·»åŠ  ğŸ”‘æ³¨å…¥æ™®é€šç±»å‹å±æ€§ åœ¨æˆå‘˜å˜é‡ä¸Šæ·»åŠ @Valueæ³¨è§£ï¼Œæ³¨è§£ä¸­æ·»åŠ valueå±æ€§ï¼Œå±æ€§å€¼å°±æ˜¯æˆå‘˜å˜é‡çš„å€¼ 12@Value(value = &quot;åˆ˜å¤‡&quot;)private String name; ğŸ”‘æ³¨å…¥å¯¹è±¡ç±»å‹å±æ€§ ğŸ’¡ ä¸‹é¢çš„æµ‹è¯•ä»£ç æ˜¯åŸºäºdaoå±‚å’Œserviceå±‚çš„å…³ç³»â€”â€”åœ¨UserServiceç±»ä¸­æ·»åŠ UserDaoç±»å‹çš„æˆå‘˜å˜é‡ï¼Œå…¶ä¸­UserDaoæ˜¯æ¥å£ç±»ï¼ŒUserDaoImplæ˜¯å¯¹åº”çš„å®ç°ç±»ğŸ’¡ @Autowireå’Œ@Qualifieræ˜¯springä¸­ç‰¹æœ‰çš„æ³¨è§£ï¼Œè€Œ@Resourceæ˜¯Javaä¸­è‡ªå¸¦çš„æ³¨è§£ï¼ˆåœ¨javaæ‹“å±•åŒ…javaxä¸­ï¼‰ï¼Œæ‰€ä»¥springå®˜æ–¹æ¨èä½¿ç”¨å‰ä¸¤ç§ â‘  @Autowiredï¼šæ ¹æ®æˆå‘˜å˜é‡å¯¹åº”çš„å¯¹è±¡ç±»å‹è‡ªåŠ¨è£…é…ï¼Œå¯ä»¥å•ç‹¬ä½¿ç”¨ ğŸ’¡ æ ¹æ®å˜é‡å¯¹åº”çš„å¯¹è±¡ç±»å‹è‡ªåŠ¨è£…é…å‰ææ˜¯è¯¥å¯¹è±¡ç±»å‹æ¥å£åªæœ‰ä¸€ä¸ªå®ç°ç±» 12@Autowiredprivate UserDao userDao; â‘¡ @Qualifierï¼šæ ¹æ®æˆå‘˜å˜é‡å¯¹åº”çš„å¯¹è±¡å”¯ä¸€æ ‡è¯†ï¼ˆå¯¹è±¡åï¼‰æ³¨å…¥å±æ€§ï¼Œä¸@Autowireä¸€èµ·ä½¿ç”¨ï¼Œéœ€è¦æ·»åŠ valueå±æ€§ï¼Œå±æ€§å€¼ä¸ºå˜é‡å¯¹åº”çš„å¯¹è±¡å”¯ä¸€æ ‡è¯† ğŸ’¡ å½“å˜é‡å¯¹åº”çš„å¯¹è±¡ç±»å‹æ¥å£ï¼ˆUserDaoï¼‰æœ‰å¤šä¸ªå®ç°ç±»ï¼ˆUserDaoImplï¼‰æ—¶ï¼Œéœ€è¦æ·»åŠ @Qualifieræ³¨è§£ï¼Œå¹¶æ ‡æ³¨å¯¹è±¡åï¼Œæ‰¾åˆ°æŒ‡å®šçš„å®ç°ç±»å¯¹è±¡ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨@Autowireæ³¨è§£ 123@Autowired@Qualifier(value = &quot;userDaoImpl01&quot;)private UserDao userDao; â‘¢ @Resourceï¼šå¯ä»¥æ ¹æ®ç±»å‹æ³¨å…¥ï¼Œä¹Ÿå¯ä»¥åç§°æ³¨å…¥ï¼Œå¯ä»¥å•ç‹¬ä½¿ç”¨ã€‚ æ ¹æ®ç±»å‹ï¼šç›´æ¥åœ¨æˆå‘˜å˜é‡å‰åŠ ä¸Š@Resource 12@Resourceprivate UserDao userDao; æ ¹æ®åç§°ï¼šéœ€è¦æ·»åŠ nameå±æ€§ï¼ˆä¸æ˜¯valueï¼‰ï¼Œå±æ€§å€¼ä¸ºå˜é‡å¯¹åº”çš„å¯¹è±¡å”¯ä¸€æ ‡è¯†ï¼ˆè·Ÿ@Qualifierä¸­çš„valueä¸€æ ·ï¼‰ 12@Resource(name = &quot;userDaoImpl02&quot;)private UserDao userDao;","link":"/posts/20221208f10f9b281c34"},{"title":"Beanç®¡ç†-åŸºäºxml","text":"å­¦ä¹ è§†é¢‘ğŸ¥ï¼šhttps://www.bilibili.com/video/BV1Vf4y127N5 ä¸€ã€Beanç®¡ç†ç®€ä»‹ğŸ’¬æ¦‚è¿°ï¼šBeanç®¡ç†å°±æ˜¯å¯¹è±¡ç®¡ç†ï¼ŒæŒ‡çš„å°±æ˜¯ä¸¤ä¸ªæ“ä½œ Spring åˆ›å»ºå¯¹è±¡ï¼šåˆ›å»ºå¯¹è±¡é»˜è®¤é‡‡ç”¨çš„æ˜¯æ— å‚æ„é€ å™¨ï¼Œæ‰€ä»¥ç±»çš„å®šä¹‰ä¸­å¿…é¡»æœ‰æ— å‚æ„é€ å™¨çš„å£°æ˜æˆ–è€…ä¸æ·»åŠ æœ‰å‚æ„é€ å™¨ Spring æ³¨å…¥å±æ€§ï¼šä¹Ÿå°±æ˜¯ DIâ€”â€”Dependency Injection ä¾èµ–æ³¨å…¥ ğŸ“šå¸¸è§å…«è‚¡æ–‡ï¼šDIä¸IOCçš„åŒºåˆ« ğŸ”‘Beanç®¡ç†æ“ä½œçš„ä¸¤ç§æ–¹å¼ åŸºäºxml æ–‡ä»¶å®ç° åŸºäºæ³¨è§£æ–¹å¼å®ç°ï¼ˆæ¨èï¼‰ äºŒã€ä½¿ç”¨xmlç®¡ç†Bean2.1 åˆ›å»ºå¯¹è±¡åœ¨springé…ç½®æ–‡ä»¶ï¼ˆspring.xmlï¼‰ä½¿ç”¨&lt;bean&gt;æ ‡ç­¾å¹¶æ·»åŠ å¯¹åº”å±æ€§ 1&lt;bean id=&quot;u&quot; class=&quot;com.Key.spring.bean.User&quot;&gt;&lt;/bean&gt; &lt;bean&gt;æ ‡ç­¾ä¸­ä¸¤ä¸ªé‡è¦å±æ€§ idï¼šå¯¹è±¡çš„å”¯ä¸€æ ‡è¯† classï¼šå¯¹è±¡çš„å…¨ç±»å 2.2 æ³¨å…¥å±æ€§ ğŸ’¡ 2.2.2~2.2.5åªä½¿ç”¨äº†setæ–¹æ³•è¿›è¡Œæ³¨å…¥ 2.2.1 æ™®é€šç±»å‹å±æ€§ğŸ”‘ä½¿ç”¨set() æ–¹æ³•è¿›è¡Œæ³¨å…¥ å®šä¹‰ä¸€ä¸ªç±»ï¼Œæ·»åŠ setProperty() æ–¹æ³•1234567891011121314151617/** * Userå®ä½“ç±» * - æˆå‘˜å˜é‡ä¸€ï¼šname * - æˆå‘˜å˜é‡äºŒï¼šage */public class User { private String name; private int age; public void setName(String name) { this.name = name; } public void setAge(int age) { this.age = age; }} åœ¨xml æ–‡ä»¶ä¸­çš„&lt;bean&gt;æ ‡ç­¾ä¸­æ·»åŠ &lt;property&gt;æ ‡ç­¾ï¼Œå¹¶æ·»åŠ ç›¸åº”å±æ€§1234&lt;bean id=&quot;u&quot; class=&quot;com.Key.spring.bean.User&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;å‘¨ç‘œ&quot;&gt;&lt;/property&gt; &lt;property name=&quot;age&quot; value=&quot;24&quot;&gt;&lt;/property&gt;&lt;/bean&gt; &lt;property&gt;æ ‡ç­¾ä¸­çš„ä¸¤ä¸ªå±æ€§ nameï¼šå±æ€§åã€‚æ³¨æ„è¿™é‡Œæ˜¯å¯¹åº”çš„æ˜¯å±æ€§åï¼Œå³ä¸æ–¹æ³•setXxx() ä¸­çš„xxxå¯¹åº”ï¼Œä¸ä¸€å®šæ˜¯æˆå‘˜å˜é‡å valueï¼šå¯¹åº”å±æ€§å€¼ï¼ˆæˆå‘˜å˜é‡çš„å€¼ï¼‰ ğŸ”‘påç§°ç©ºé—´æ³¨å…¥ï¼šset() æ–¹æ³•æ³¨å…¥çš„ç®€åŒ–æ“ä½œï¼ˆäº†è§£å³å¯ï¼‰ åœ¨é…ç½®æ–‡ä»¶ä¸­çš„&lt;beans&gt;æ ‡ç­¾ä¸­åˆ›å»ºpåç§°ç©ºé—´ï¼šxmlns:p=&quot;http://www.springframework.org/schema/p&quot;1234567&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;!-- code... --&gt;&lt;/beans&gt; ç›´æ¥åœ¨&lt;baen&gt;æ ‡ç­¾çš„å±æ€§æ ä¸Šæ·»åŠ å±æ€§ p:property è¿›è¡Œå±æ€§çš„æ³¨å…¥ æ³¨å…¥å¤–éƒ¨Beançš„å†™æ³•ï¼šp:uDao-ref=&quot;uDao&quot; 1&lt;bean id=&quot;u&quot; class=&quot;com.Key.spring.bean.User&quot; p:name=&quot;å‘¨ç‘œ&quot; p:age=&quot;24&quot;&gt;&lt;/bean&gt; ğŸ”‘ä½¿ç”¨æœ‰å‚æ„é€ å™¨è¿›è¡Œæ³¨å…¥ å®šä¹‰ä¸€ä¸ªç±»ï¼Œæ·»åŠ æœ‰å‚æ„é€ å™¨123456789public class User { private String name; private int age; public User(String username, int age) { this.name = username; this.age = age; }} åœ¨xml æ–‡ä»¶ä¸­çš„&lt;bean&gt;æ ‡ç­¾ä¸­æ·»åŠ &lt;constructor-arg&gt;æ ‡ç­¾ï¼Œå¹¶æ·»åŠ å¯¹åº”å±æ€§1234&lt;bean id=&quot;u&quot; class=&quot;com.key.spring.bean.User&quot;&gt; &lt;constructor-arg name=&quot;username&quot; value=&quot;è¯¸è‘›äº®&quot;&gt;&lt;/constructor-arg&gt; &lt;constructor-arg name=&quot;age&quot; value=&quot;21&quot;&gt;&lt;/constructor-arg&gt;&lt;/bean&gt; &lt;constructor-arg&gt;æ ‡ç­¾çš„é‡è¦å±æ€§ nameï¼šæœ‰å‚æ„é€ å™¨ä¸­å½¢å‚çš„åç§°ã€‚æ³¨æ„è¿™é‡Œå¯¹åº”çš„æ˜¯å½¢å‚åï¼Œä¸ä¸€å®šæ˜¯å±æ€§åï¼Œä¹Ÿä¸ä¸€å®šæ˜¯æˆå‘˜å˜é‡å valueï¼šå¯¹åº”å±æ€§å€¼ï¼ˆæˆå‘˜å˜é‡å€¼ï¼‰ indexï¼šæˆå‘˜å˜é‡åœ¨ç±»ä¸­å®šä¹‰çš„å…ˆåæ¬¡åºï¼Œä»0å¼€å§‹ 2.2.2 ç‰¹æ®Šç±»å‹å±æ€§ å¼•å…¥æ¦‚å¿µâ€”â€”å­—é¢é‡ï¼šJava ä¸­å°†æ•°æ®ç§°ä¸ºå­—é¢é‡ï¼Œå¦‚åœ¨int a = 2;ä¸­ï¼Œaæ˜¯å˜é‡ï¼Œ2å°±æ˜¯å­—é¢é‡ ğŸ”‘æ³¨å…¥nullå€¼ï¼šç›´æ¥åœ¨&lt;property&gt;æ ‡ç­¾ä½“ä¸­æ·»åŠ &lt;null/&gt;æ ‡ç­¾å³å¯ 123&lt;property name=&quot;name&quot;&gt; &lt;null/&gt;&lt;/property&gt; ğŸ”‘æ³¨å…¥å¸¦ç‰¹æ®Šç¬¦å·çš„å±æ€§å€¼ï¼šç‰¹æ®Šç¬¦å·æ˜¯æŒ‡åœ¨xml ä¸­æœ‰ç‰¹æ®Šç”¨æ³•çš„æ•æ„Ÿå­—ç¬¦ï¼Œå¦‚&lt;ã€&gt;ã€&amp;ç­‰ ä½¿ç”¨è½¬ä¹‰å­—ç¬¦ä»£æ›¿ç‰¹æ®Šç¬¦å· ä½¿ç”¨&lt;value&gt;æ ‡ç­¾å’ŒCDATAåŒºåŸŸï¼ŒæŠŠå¸¦æœ‰ç‰¹æ®Šç¬¦å·å€¼æ”¾åœ¨CDATAåŒºåŸŸï¼Œå¦‚æŠŠâ€&lt;&lt;ä¸‰å›½æ¼”ä¹‰&gt;&gt;â€èµ‹å€¼ç»™å±æ€§bookName123&lt;property name=&quot;bookName&quot;&gt; &lt;value&gt;&lt;![CDATA[&lt;&lt;ä¸‰å›½æ¼”ä¹‰&gt;&gt;]]&gt;&lt;/value&gt;&lt;/property&gt; ğŸ”‘æ³¨å…¥æ•°ç»„ã€é›†åˆç±»å‹å±æ€§ï¼ˆList å’Œæ•°ç»„æ³¨å…¥æ–¹å¼ä¸€æ ·ï¼Œè¿™é‡Œåªæ¼”ç¤ºæ•°ç»„ï¼‰ æ•°ç»„æˆ–é›†åˆå…ƒç´ ç±»å‹ä¸ºæ™®é€šç±»å‹ â‘  åˆ›å»ºä¸€ä¸ªç±»ç”¨äºæµ‹è¯•ï¼Œç±»ä¸­å®šä¹‰æœ‰æ•°ç»„ç±»å‹ã€setç±»å‹å’ŒMapç±»å‹çš„å±æ€§ 1234567891011121314151617public class Students { private String[] course; private Map&lt;String,String&gt; stuMap; private Set&lt;String&gt; stuSet; public void setCourse(String[] course) { this.course = course; } public void setStuMap(Map&lt;String, String&gt; stuMap) { this.stuMap = stuMap; } public void setStuSet(Set&lt;String&gt; stuSet) { this.stuSet = stuSet; }} â‘¡ åœ¨springé…ç½®æ–‡ä»¶ä¸­åˆ›å»ºå¯¹è±¡ï¼Œå¹¶æ³¨å…¥å„ä¸ªç±»å‹çš„å±æ€§ï¼ˆéƒ½æ˜¯åœ¨&lt;property&gt;æ ‡ç­¾ä¸­æ·»åŠ ï¼‰ æ•°ç»„æˆ–List é›†åˆç±»å‹æ³¨å…¥ï¼šæ·»åŠ &lt;array&gt;æˆ–&lt;list&gt;æ ‡ç­¾ï¼Œç„¶ååœ¨&lt;array&gt;æˆ–&lt;list&gt;æ ‡ç­¾ä½“ä¸­æ·»åŠ &lt;value&gt;è¿›è¡Œèµ‹å€¼1234&lt;list&gt; &lt;value&gt;é«˜æ•°&lt;/value&gt; &lt;value&gt;cè¯­è¨€&lt;/value&gt;&lt;/list&gt; set é›†åˆç±»å‹æ³¨å…¥ï¼šæ·»åŠ &lt;set&gt;æ ‡ç­¾ï¼Œç„¶ååœ¨&lt;set&gt;æ ‡ç­¾ä½“ä¸­æ·»åŠ &lt;value&gt;è¿›è¡Œèµ‹å€¼1234&lt;set&gt; &lt;value&gt;set1&lt;/value&gt; &lt;value&gt;set2&lt;/value&gt;&lt;/set&gt; map é›†åˆç±»å‹æ³¨å…¥ï¼šæ·»åŠ &lt;map&gt;æ ‡ç­¾ï¼Œç„¶ååœ¨&lt;map&gt;æ ‡ç­¾ä½“ä¸­æ·»åŠ &lt;entry&gt;æ ‡ç­¾ï¼Œåœ¨&lt;entry&gt;æ ‡ç­¾çš„å±æ€§ä¸­è¿›è¡Œèµ‹å€¼1234&lt;map&gt; &lt;entry key=&quot;å‘¨ä¸€&quot; value=&quot;ä¸Šè¯¾&quot;&gt;&lt;/entry&gt; &lt;entry key=&quot;å‘¨æ—¥&quot; value=&quot;æ”¾å‡&quot;&gt;&lt;/entry&gt;&lt;/map&gt; &lt;entry&gt;æ ‡ç­¾çš„ä¸¤ä¸ªå±æ€§ keyï¼šå¯¹åº”map é›†åˆä¸­çš„é”®key valueï¼šå¯¹åº”map é›†åˆä¸­çš„å€¼value æ•°ç»„æˆ–é›†åˆå…ƒç´ ç±»å‹ä¸ºå¯¹è±¡ï¼ˆæ•°ç»„ã€é›†åˆç±»å‹çš„æ“ä½œéƒ½æ˜¯ç›¸ä¼¼çš„ï¼Œè¿™é‡Œåªæ¼”ç¤ºList é›†åˆï¼‰ â‘  åˆ›å»ºè¯¾ç¨‹ç±»ï¼Œåœ¨å­¦ç”Ÿç±»ä¸­æ·»åŠ å…ƒç´ ç±»å‹æ˜¯è¯¾ç¨‹ç±»çš„é›†åˆå±æ€§â€”â€”private List&lt;Course&gt; stuCourse; 1234567public class Course { private String cname; public void setCname(String cname) { this.cname = cname; }} â‘¡ åœ¨spring é…ç½®æ–‡ä»¶ä¸­åˆ›å»ºå¤šä¸ªè¯¾ç¨‹ç±»å¯¹è±¡ï¼Œç„¶åå†å­¦ç”Ÿå¯¹è±¡çš„åˆ›å»ºä¸­æ³¨å…¥å¯¹åº”é›†åˆå±æ€§ï¼Œé›†åˆä¸­æ·»åŠ åˆ›å»ºå¥½çš„å¤šä¸ªè¯¾ç¨‹å¯¹è±¡ï¼Œå°†&lt;value&gt;æ ‡ç­¾æ¢æˆ&lt;ref&gt;ï¼Œå¹¶é€šè¿‡bean å±æ€§èµ‹å€¼ 123456789101112131415161718192021222324&lt;!-- åˆ›å»ºå¤šä¸ªè¯¾ç¨‹ç±»å¯¹è±¡ --&gt;&lt;bean id=&quot;c1&quot; class=&quot;com.Key.spring.ioc.bean.Course&quot;&gt; &lt;property name=&quot;cname&quot; value=&quot;javaå®éªŒè¯¾&quot;&gt;&lt;/property&gt;&lt;/bean&gt;&lt;bean id=&quot;c2&quot; class=&quot;com.Key.spring.ioc.bean.Course&quot;&gt; &lt;property name=&quot;cname&quot; value=&quot;cè¯­è¨€å®éªŒè¯¾&quot;&gt;&lt;/property&gt;&lt;/bean&gt;&lt;bean id=&quot;c3&quot; class=&quot;com.Key.spring.ioc.bean.Course&quot;&gt; &lt;property name=&quot;cname&quot; value=&quot;æ•°æ®ç»“æ„å®éªŒè¯¾&quot;&gt;&lt;/property&gt;&lt;/bean&gt;&lt;!-- åˆ›å»ºå­¦ç”Ÿå¯¹è±¡ï¼Œå¹¶å¯¹å…¶å¤šä¸ªæ•°ç»„ã€é›†åˆç±»å‹å±æ€§èµ‹å€¼ --&gt;&lt;bean id=&quot;stu&quot; class=&quot;com.Key.spring.ioc.bean.Students&quot;&gt; &lt;!-- è¿™é‡Œçœç•¥å…¶ä»–å±æ€§çš„æ³¨å…¥... --&gt; &lt;!-- ç»™listé›†åˆèµ‹å€¼ï¼Œlisté›†åˆå…ƒç´ ç±»å‹æ˜¯Course --&gt; &lt;property name=&quot;stuCourse&quot;&gt; &lt;list&gt; &lt;ref bean=&quot;c1&quot;&gt;&lt;/ref&gt; &lt;ref bean=&quot;c2&quot;&gt;&lt;/ref&gt; &lt;ref bean=&quot;c3&quot;&gt;&lt;/ref&gt; &lt;/list&gt; &lt;/property&gt;&lt;/bean&gt; &lt;ref&gt;æ ‡ç­¾çš„å±æ€§â€”â€”beanï¼šé›†åˆä¸­æ¯ä¸ªå…ƒç´ å¯¹è±¡å¯¹åº”çš„å”¯ä¸€æ ‡è¯†id å€¼ é€šè¿‡util åç§°ç©ºé—´å®ç°æ•°ç»„æˆ–é›†åˆç±»å‹çš„æ³¨å…¥ï¼ˆå°†é›†åˆç±»å‹å±æ€§çš„æ³¨å…¥å•ç‹¬å–å‡ºæ¥ï¼‰ â‘  åœ¨spring é…ç½®æ–‡ä»¶çš„æ ¹æ ‡ç­¾&lt;beans&gt;çš„å±æ€§æ ä¸­åˆ›å»ºutil åç§°ç©ºé—´ æ·»åŠ å±æ€§â€”â€”xmlns:util=&quot;http://www.springframework.org/schema/util&quot; åœ¨xsi:schemaLocationå±æ€§çš„åŸæœ‰å€¼åæ·»åŠ http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd åˆ›å»ºutil åç§°ç©ºé—´çš„æ–¹æ³•ï¼ˆé€šç”¨ï¼‰ å°†å±æ€§xmlnsçš„å€¼http://www.springframework.org/schema/beansä¸­çš„beansæ¢æˆutil å°†å±æ€§xsi:schemaLocationçš„åŸæœ‰å€¼http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsdä¸­çš„æ‰€æœ‰beanséƒ½æ¢æˆutil 12345678&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;&gt; &lt;!-- code... --&gt;&lt;/beans&gt; â‘¡ åœ¨åˆ›å»ºå¯¹è±¡çš„å¤–éƒ¨ä½¿ç”¨&lt;util:list&gt; æ ‡ç­¾å¯¹é›†åˆç±»å‹å±æ€§è¿›è¡Œèµ‹å€¼ï¼ˆå…¶ä»–é›†åˆç±»å‹çš„èµ‹å€¼ç±»ä¼¼â€”â€”&lt;util:map&gt;ã€&lt;util:set&gt;ï¼‰ 12345&lt;!-- ä½¿ç”¨utilåç§°ç©ºé—´åœ¨åˆ›å»ºå¯¹è±¡å¤–éƒ¨å¯¹é›†åˆç±»å‹å±æ€§èµ‹å€¼ --&gt;&lt;util:list id=&quot;utilList&quot;&gt; &lt;value&gt;å¤§ç‰©&lt;/value&gt; &lt;value&gt;ç¦»æ•£&lt;/value&gt;&lt;/util:list&gt; â‘¢ æŠŠå·²ç»æ³¨å…¥å®Œæˆçš„é›†åˆç±»å‹å±æ€§æ·»åŠ åˆ°å¯¹è±¡ä¸­ï¼šåœ¨&lt;property&gt;æ ‡ç­¾ä¸­é‡‡ç”¨ ref å±æ€§ï¼Œä¸æ³¨å…¥å¯¹è±¡ç±»å±æ€§çš„æ–¹å¼ç±»ä¼¼ 123456&lt;!-- åˆ›å»ºå­¦ç”Ÿå¯¹è±¡ï¼Œå¹¶æ³¨å…¥å±æ€§ --&gt;&lt;bean id=&quot;stu&quot; class=&quot;com.Key.spring.ioc.bean.Students&quot;&gt; &lt;!-- è¿™é‡Œçœç•¥å…¶ä»–å±æ€§çš„æ³¨å…¥... --&gt; &lt;property name=&quot;course&quot; ref=&quot;utilList&quot;&gt;&lt;/property&gt;&lt;/bean&gt; 2.2.3 å¯¹è±¡ç±»å‹å±æ€§ğŸ”‘ç”¨æ³•ï¼šç”¨äºæœ‰è°ƒç”¨å…³ç³»çš„ç±»ä¹‹é—´ï¼Œæ¯”å¦‚serviceç±»å’Œdaoç±» â‘  åˆ›å»ºå¥½serviceç±»å’Œdaoç±»ï¼Œåœ¨serviceç±»ä¸­å®šä¹‰daoç±»çš„æˆå‘˜å˜é‡ï¼Œæ ¹æ®æˆå‘˜å˜é‡è°ƒç”¨å…¶æ–¹æ³• 123456789101112131415161718/** * æ³¨æ„ï¼šè¿™é‡Œåªæ˜¯ç®€å•æ¼”ç¤ºï¼Œå®æ“çš„æ—¶å€™éœ€è¦æ·»åŠ æ¥å£ç±»ï¼Œåœ¨å®ç°ç±»è¿›è¡Œä»¥ä¸‹æ“ä½œ */public class UserService { private UserDao uDao; // è¦åŠ ä¸Šå¯¹åº”çš„setæ–¹æ³• public void setUDao(UserDao uDao) { this.uDao = uDao; } public void update() { // è°ƒç”¨daoç±»å¯¹è±¡çš„æ–¹æ³• uDao.update(); // code... }} â‘¡ åœ¨springé…ç½®æ–‡ä»¶ä¸­åˆ›å»ºserviceç±»å¯¹è±¡å’Œdaoç±»å¯¹è±¡ï¼Œå¹¶åœ¨serviceç±»å¯¹è±¡ä¸­æ³¨å…¥å±æ€§ï¼Œæœ‰å¤–éƒ¨å’Œå†…éƒ¨ä¸¤ç§æ–¹å¼ å¤–éƒ¨Beanæ–¹å¼æ³¨å…¥ï¼šåœ¨å¤–éƒ¨åˆ›å»ºå¥½å±æ€§å¯¹åº”çš„ç±»å¯¹è±¡ï¼Œç„¶åæ ¹æ®å¤–éƒ¨Beançš„å”¯ä¸€æ ‡è¯†id è¿›è¡Œæ³¨å…¥ 12345678910&lt;!-- åœ¨å¤–éƒ¨åˆ›å»ºdaoç±»å¯¹è±¡ - æ³¨æ„ï¼šè¿™é‡Œè¿™æ˜¯ç®€å•æ¼”ç¤ºï¼Œå®æ“çš„æ—¶å€™ï¼Œclassä¸­å†™çš„åº”è¯¥æ˜¯å®ç°ç±»çš„å…¨ç±»åï¼Œè€Œä¸æ˜¯æ¥å£ï¼Œä¸‹åŒ--&gt;&lt;bean id=&quot;uDao&quot; class=&quot;com.Key.spring.dao.UserDao&quot;&gt;&lt;/bean&gt;&lt;!-- åˆ›å»ºserviceç±»å¯¹è±¡ï¼Œå¹¶æ³¨å…¥å±æ€§ --&gt;&lt;bean id=&quot;uService&quot; class=&quot;com.Key.spring.service.UserService&quot;&gt; &lt;property name=&quot;uDao&quot; ref=&quot;uDao&quot;&gt;&lt;/property&gt;&lt;/bean&gt; &lt;property&gt;æ ‡ç­¾ä¸­çš„ä¸¤ä¸ªå±æ€§ nameï¼šå±æ€§å refï¼šå¯¹è±¡ç±»å‹å±æ€§åœ¨å¤–éƒ¨åˆ›å»ºæ—¶&lt;bean&gt;æ ‡ç­¾ä¸­çš„idå€¼ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰ å†…éƒ¨Beançš„æ–¹å¼æ³¨å…¥ï¼šç›´æ¥åœ¨&lt;property&gt;æ ‡ç­¾ä½“ï¼ˆå†…éƒ¨ï¼‰ä¸­ä½¿ç”¨&lt;bean&gt;æ ‡ç­¾åˆ›å»ºå±æ€§å¯¹åº”çš„ç±»å¯¹è±¡12345678910&lt;!-- åˆ›å»ºserviceç±»å¯¹è±¡ï¼Œå¹¶æ³¨å…¥å±æ€§ - åœ¨&lt;property&gt;æ ‡ç­¾ä½“ï¼ˆå†…éƒ¨ï¼‰ä¸­åˆ›å»ºå±æ€§å¯¹åº”çš„ç±»å¯¹è±¡ - å†…éƒ¨çš„&lt;bean&gt;æ ‡ç­¾å¯ä»¥ä¸æ·»åŠ idå±æ€§--&gt;&lt;bean id=&quot;uService&quot; class=&quot;com.Key.spring.service.UserService&quot;&gt; &lt;property name=&quot;uDao&quot;&gt; &lt;bean id=&quot;uDao&quot; class=&quot;com.Key.spring.dao.UserDao&quot;&gt;&lt;/bean&gt; &lt;/property&gt;&lt;/bean&gt; 2.2.4 çº§è”èµ‹å€¼â‘  åˆ›å»ºéƒ¨é—¨ç±»å’Œå‘˜å·¥ç±»ï¼Œåœ¨å‘˜å·¥ç±»ä¸­æ·»åŠ éƒ¨é—¨ç±»å‹çš„æˆå‘˜å˜é‡ï¼Œè¡¨ç¤ºä¸¤è€…ä¸€å¯¹å¤šçš„å…³ç³» â‘¡ åœ¨spring é…ç½®æ–‡ä»¶ä¸­åˆ›å»ºä¸¤ä¸ªç±»çš„å¯¹è±¡ï¼Œå¹¶å¯¹å‘˜å·¥å±æ€§çš„æ³¨å…¥ä¸­åŒæ—¶å¯¹å…¶æ‰€åœ¨çš„éƒ¨é—¨çš„å±æ€§è¿›è¡Œèµ‹å€¼ï¼Œå®ç°çº§è”èµ‹å€¼ é€šè¿‡å¤–éƒ¨Beanæˆ–å†…éƒ¨Beançš„æ–¹å¼ï¼ˆè¿™é‡Œåªæ¼”ç¤ºå¤–éƒ¨ï¼‰1234567891011121314151617&lt;!-- åœ¨å¤–éƒ¨åˆ›å»ºéƒ¨é—¨å¯¹è±¡ - éƒ¨é—¨å¯¹è±¡æœ‰å±æ€§deptNameï¼Œè¿™é‡Œç›´æ¥èµ‹å€¼--&gt;&lt;bean id=&quot;dept&quot; class=&quot;com.Key.spring.bean.Department&quot;&gt; &lt;property name=&quot;deptName&quot; value=&quot;æŠ€æœ¯éƒ¨&quot;&gt;&lt;/property&gt;&lt;/bean&gt;&lt;!-- åˆ›å»ºå‘˜å·¥å¯¹è±¡ï¼Œå¹¶æ³¨å…¥å±æ€§ - å¤–éƒ¨éƒ¨é—¨å¯¹è±¡çš„å±æ€§å·²ç»èµ‹å€¼ï¼Œè¿™é‡Œç›´æ¥é€šè¿‡refå±æ€§æ³¨å…¥éƒ¨é—¨å¯¹è±¡å³å¯ --&gt;&lt;bean id=&quot;emp&quot; class=&quot;com.Key.spring.bean.Employee&quot;&gt; &lt;property name=&quot;empName&quot; value=&quot;å­™å°šé¦™&quot;&gt;&lt;/property&gt; &lt;property name=&quot;gender&quot; value=&quot;å¥³&quot;&gt;&lt;/property&gt; &lt;property name=&quot;empDept&quot; ref=&quot;dept&quot;&gt;&lt;/property&gt;&lt;/bean&gt; é€šè¿‡å¯¹è±¡.å±æ€§ï¼ˆè¿™é‡Œå¯¹è±¡æ˜¯æŒ‡å‘˜å·¥ä¸­çš„éƒ¨é—¨å±æ€§ï¼‰çš„æ–¹å¼ï¼ˆè¿™é‡Œæ˜¯åŸºäºå¤–éƒ¨Beançš„æ–¹å¼ï¼Œå†…éƒ¨Beançš„æ–¹å¼ä¹Ÿå¯ä»¥ï¼‰ å…ˆåœ¨å‘˜å·¥ç±»ä¸­æ·»åŠ éƒ¨é—¨å±æ€§å¯¹åº”çš„getæ–¹æ³•ï¼Œä¸ç„¶æ— æ³•æ‰¾åˆ°å¯¹è±¡.å±æ€§ä¸­çš„å¯¹è±¡ åœ¨å‘˜å·¥å¯¹è±¡åˆ›å»ºçš„&lt;bean&gt;æ ‡ç­¾ä½“ä¸­æ·»åŠ &lt;property name=&quot;empDept.deptName&quot; value=&quot;é”€å”®éƒ¨&quot;&gt;&lt;/property&gt; 123456789101112131415&lt;!-- åœ¨å¤–éƒ¨åˆ›å»ºéƒ¨é—¨å¯¹è±¡ --&gt;&lt;bean id=&quot;dept&quot; class=&quot;com.Key.spring.bean.Department&quot;&gt;&lt;/bean&gt;&lt;!-- åˆ›å»ºå‘˜å·¥å¯¹è±¡ï¼Œå¹¶æ³¨å…¥å±æ€§ - å¤–éƒ¨éƒ¨é—¨å¯¹è±¡çš„å±æ€§æ²¡æœ‰èµ‹å€¼ï¼Œè¿™é‡Œé€šè¿‡å¯¹è±¡.å±æ€§è¿›è¡Œèµ‹å€¼ --&gt;&lt;bean id=&quot;emp&quot; class=&quot;com.Key.spring.bean.Employee&quot;&gt; &lt;property name=&quot;empName&quot; value=&quot;å­™å°šé¦™&quot;&gt;&lt;/property&gt; &lt;property name=&quot;gender&quot; value=&quot;å¥³&quot;&gt;&lt;/property&gt; &lt;property name=&quot;empDept&quot; ref=&quot;dept&quot;&gt;&lt;/property&gt; &lt;property name=&quot;empDept.deptName&quot; value=&quot;é”€å”®éƒ¨&quot;&gt;&lt;/property&gt;&lt;/bean&gt; 2.2.5 è‡ªåŠ¨è£…é… PSï¼šä¸€èˆ¬ä½¿ç”¨æ³¨è§£æ–¹å¼å®ç°è‡ªåŠ¨è£…é…ï¼Œä¸ä½¿ç”¨xml æ–‡ä»¶ï¼›è€Œä¸”è‡ªåŠ¨è£…é…é€‚ç”¨äºè‡ªå®šä¹‰å¯¹è±¡ç±»å‹çš„å±æ€§ ğŸ’¬æ¦‚è¿°ï¼šåªéœ€å£°æ˜å±æ€§çš„åç§°æˆ–è€…å±æ€§çš„ç±»å‹å³å¯å®Œæˆå±æ€§çš„æ³¨å…¥ï¼Œä¸éœ€è¦ä½¿ç”¨&lt;property&gt;æ ‡ç­¾æ‰‹åŠ¨ç»™å„ä¸ªå±æ€§èµ‹å€¼ ğŸ”‘ç”¨æ³•ï¼šåœ¨&lt;bean&gt;æ ‡ç­¾ä¸­æ·»åŠ å±æ€§â€”â€”autowireï¼Œå±æ€§å€¼æœ‰ä¸¤ç§ byNameï¼šè¡¨ç¤ºæ ¹æ®Bean çš„å±æ€§åæ¥èµ‹å€¼ï¼Œè‡ªå®šä¹‰çš„å¯¹è±¡åˆ›å»ºçš„&lt;bean&gt;æ ‡ç­¾ä¸­çš„idå€¼å¿…é¡»ä¸å¯¹è±¡ç±»å‹çš„å±æ€§åä¿æŒä¸€è‡´ byTypeï¼šè¡¨ç¤ºæ ¹æ®Bean çš„å±æ€§ç±»å‹æ¥èµ‹å€¼ï¼Œå±æ€§å¯¹åº”çš„å¯¹è±¡åˆ›å»ºåœ¨åŒä¸€ä¸ªxml æ–‡ä»¶ä¸­åªèƒ½å‡ºç°ä¸€æ¬¡ï¼Œå³åŒä¸€ä¸ªxml æ–‡ä»¶ä¸èƒ½åˆ›å»ºä¸å±æ€§å¯¹åº”å¯¹è±¡çš„ç±»å‹ä¸€æ ·çš„å¯¹è±¡ ğŸ’¡å½“autowireçš„å€¼ä¸ºbyType æ—¶ï¼Œspring ä¼šæ ¹æ®å±æ€§çš„ç±»å‹æ‰¾åˆ°å¯¹åº”çš„å¯¹è±¡ï¼ˆæ ¹æ®&lt;bean&gt;æ ‡ç­¾ä¸­çš„classå±æ€§å€¼ï¼‰ï¼Œç„¶åå°†è¯¥å¯¹è±¡èµ‹å€¼ç»™å¯¹åº”å±æ€§ï¼Œå¦‚æœåŒä¸€ä¸ªxml æ–‡ä»¶ä¸­å‡ºç°å¤šä¸ªç±»å‹ä¸€æ ·çš„å¯¹è±¡ï¼Œspring å°±ä¸çŸ¥é“å“ªä¸€ä¸ªæ‰æ˜¯éœ€è¦èµ‹å€¼çš„ï¼Œä¼šæŠ¥é”™ 2.3 FactoryBeanğŸ’¬æ¦‚è¿°ï¼šspring ä¸­æœ‰ä¸¤ç§ç±»å‹çš„Beanï¼Œä¸€ç§æ˜¯æ™®é€šçš„Beanï¼Œä¸€ç§æ˜¯å·¥å‚Beanâ€”â€”Factory ğŸ”‘æ™®é€šBeanå’Œå·¥å‚Beançš„åŒºåˆ« æ™®é€šBeanï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„bean ç±»å‹å’Œè¿”å›ç±»å‹æ˜¯ä¸€æ ·çš„ å·¥å‚Beanï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„bean ç±»å‹å’Œè¿”å›ç±»å‹å¯ä»¥ä¸ä¸€æ · ğŸ”‘FactoryBeançš„å®ç° åˆ›å»ºä¸€ä¸ªç±»ï¼Œå®ç°FactoryBean&lt;T&gt; æ¥å£ï¼Œä½œä¸ºè‡ªå®šä¹‰çš„å·¥å‚å¯¹è±¡MyBean åœ¨springé…ç½®æ–‡ä»¶ä¸­åˆ›å»ºè‡ªå®šä¹‰çš„å·¥å‚å¯¹è±¡1&lt;bean id=&quot;myBean&quot; class=&quot;com.Key.spring.bean.MyBean&quot;&gt;&lt;/bean&gt; åœ¨è‡ªå®šä¹‰çš„å·¥å‚ç±»ä¸­å®ç°æ¥å£çš„ getObject()æ–¹æ³•ï¼Œæ–¹æ³•ä¸­å®šä¹‰å®é™…è¿”å›çš„bean ç±»å‹ï¼ˆæ³›å‹ Tï¼‰1234567public class MyBean implements FactoryBean&lt;User&gt; { @Override public User getObject() throws Exception { // åˆ›å»ºUserå¯¹è±¡å¹¶è¿”å› return new User(&quot;æ›¹æ“&quot;, 43); }} 2.4 æ³¨å…¥å¤–éƒ¨å±æ€§ å¼•å…¥æ¦‚å¿µâ€”â€”Druidæ•°æ®åº“è¿æ¥æ± å±æ€§ä¿¡æ¯ æ•°æ®åº“é©±åŠ¨ç±»ï¼šprop.driverClass=com.mysql.jdbc.Driverï¼ˆMySQL 5ä¹‹åæ˜¯ com.mysql.cj.jdbc.Driverï¼‰ æ•°æ®åº“åœ°å€ï¼šprop.url=jdbc:mysql://localhost:3306/xxx æ•°æ®åº“ç”¨æˆ·åï¼šprop.username=root æ•°æ®åº“ç”¨æˆ·å¯†ç ï¼šprop.password=xxx ğŸ’¬æ¦‚è¿°ï¼šä¸€èˆ¬ç”¨äºé…ç½®æ•°æ®åº“è¿æ¥çš„å±æ€§ä¿¡æ¯ï¼Œéœ€è¦æ³¨å…¥çš„æ–‡ä»¶ä¸€èˆ¬å‘½åä¸º jdbc.properties ğŸ”‘ä½¿ç”¨æ­¥éª¤ åˆ›å»º jdbc.properties æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­è¾“å…¥å¯¹åº”çš„æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼ˆdruid çš„éœ€è¦çš„æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼‰ åœ¨spring é…ç½®æ–‡ä»¶ä¸­å¼•å…¥context åç§°ç©ºé—´ï¼ˆåˆ›å»ºæ–¹æ³•ç•¥ï¼Œå¯å‚è€ƒutil åç§°ç©ºé—´çš„åˆ›å»ºï¼‰ åœ¨spring é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨context åç§°ç©ºé—´ä¸­çš„ &lt;context:property-placehoder&gt; æ ‡ç­¾å°†å¤–éƒ¨å±æ€§æ–‡ä»¶ jdbc.properties å¼•å…¥1&lt;context:property-placehoder location=&quot;classpath:jdbc.properties&quot;/&gt; &lt;context:property-placehoder&gt;æ ‡ç­¾çš„å±æ€§â€”â€”locationï¼šå¤–éƒ¨å±æ€§æ–‡ä»¶çš„ä½ç½®ï¼Œå¦‚æœæ–‡ä»¶åœ¨srcç›®å½•ä¸‹ï¼Œå¯ç›´æ¥å†™ä¸º classpath:jdbc.properties åœ¨&lt;bean&gt;æ ‡ç­¾ä¸­ä½¿ç”¨&lt;property&gt;æ ‡ç­¾æ³¨å…¥å¤–éƒ¨å±æ€§ï¼Œä½¿ç”¨æ–¹æ³•ä¸æ³¨å…¥å…¶ä»–æ™®é€šç±»å‹å±æ€§ä¸€æ ·ï¼Œä½† value çš„å€¼ç”¨è¡¨è¾¾å¼ä»£æ›¿ï¼Œè¡¨è¾¾å¼ä¸ºâ€”â€”${å±æ€§æ–‡ä»¶ä¸­å±æ€§å}ï¼ˆELè¡¨è¾¾å¼ï¼Ÿï¼‰123456&lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DriverDataSource&quot;&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;${prop.driverClass}&quot;&gt;&lt;/property&gt; &lt;property name=&quot;url&quot; value=&quot;${prop.url}&quot;&gt;&lt;/property&gt; &lt;property name=&quot;username&quot; ref=&quot;${prop.username}&quot;&gt;&lt;/property&gt; &lt;property name=&quot;password&quot; value=&quot;${prop.password}&quot;&gt;&lt;/property&gt;&lt;/bean&gt; PSï¼š&lt;property&gt;æ ‡ç­¾ä¸­çš„nameå±æ€§å€¼éƒ½æ˜¯DriverDataSource ç±»ä¸­çš„å±æ€§ï¼Œæ‰€ä»¥æ˜¯å›ºå®šçš„ï¼Œä¸æ˜¯è‡ªå®šä¹‰çš„","link":"/posts/202212082e3919ae67e6"}],"tags":[{"name":"Spring","slug":"Spring","link":"/tags/Spring/"},{"name":"Java","slug":"Java","link":"/tags/Java/"},{"name":"IOC","slug":"IOC","link":"/tags/IOC/"},{"name":"xml","slug":"xml","link":"/tags/xml/"}],"categories":[{"name":"åç«¯","slug":"åç«¯","link":"/categories/%E5%90%8E%E7%AB%AF/"},{"name":"Springå­¦ä¹ ç¬”è®°","slug":"åç«¯/Springå­¦ä¹ ç¬”è®°","link":"/categories/%E5%90%8E%E7%AB%AF/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"pages":[]}